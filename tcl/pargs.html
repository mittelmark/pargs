
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="pargs 0.0.1">
<meta name="author" content="Detlef Groth, University of Potsdam, Germany">
    
<title>pargs 0.0.1</title>
    
    


<style>
@import url("data:text/css;base64,QGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuYnVubnkubmV0L2Nzcz9mYW1pbHk9QW5kaWthJmRpc3BsYXk9c3dhcCcpOyAKQGltcG9ydCB1cmwoJ2h0dHBzOi8vZm9udHMuYnVubnkubmV0L2Nzcz9mYW1pbHk9VWJ1bnR1K01vbm8mZGlzcGxheT1zd2FwJyk7IC8qICcgKi8KCmJvZHkgewogIHBhZGRpbmc6IDMwcHg7CiAgbWF4LXdpZHRoOiAxMDAwcHg7CiAgZm9udC1mYW1pbHk6IEFuZGlrYSwgc2Fucy1zZXJpZjsKICBtYXJnaW46IDAgYXV0bzsKfQoKaDEudGl0bGUsIHAuYXV0aG9yLCBwLmRhdGUsIGgyLmF1dGhvciwgaDIuZGF0ZSB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KYSB7IHRleHQtZGVjb3JhdGlvbjogbm9uZSA7IH0KcHJlIHsKICAgIHBhZGRpbmc6IDEwcHggOwogICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNDQ0NDQ0M7CiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgI0NDQ0NDQzsgCiAgICBmb250LWZhbWlseTogIlVidW50dSBNb25vIiwgbW9ub3NwYWNlOwp9CnByZTpoYXMoY29kZSkgewogICAgYmFja2dyb3VuZDogI2VmZWZlZjsKfQpwcmU6aGFzKGNvZGUudGNsY29kZSkgewogICAgYmFja2dyb3VuZDogY29ybnNpbGs7ICAgCn0KCnByZTpoYXMoY29kZS50Y2xvdXQpIHsgICAgCiAgICBiYWNrZ3JvdW5kOiAjQ0NFRUZGOwp9CnByZTpoYXMoY29kZS50Y2xlcnIpIHsgICAgCiAgICBiYWNrZ3JvdW5kOiAjRkZDQ0NDOwp9CnByZTpoYXMoY29kZS5lcnJvcikgeyAgICAKICAgIGJhY2tncm91bmQ6ICNGRkNDQ0M7Cn0KCnRhYmxlIHsgICAgCiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsKICBib3JkZXItYm90dG9tOiAycHggc29saWQ7CiAgYm9yZGVyLXNwYWNpbmc6IDVweDsKICBtaW4td2lkdGg6IDUwMHB4Owp9CnRhYmxlIHRoZWFkIHRyIHRoIHsgCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZTlkOTsKICB0ZXh0LWFsaWduOiBsZWZ0OyAKICBwYWRkaW5nOiA1cHg7CiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkOwogIGJvcmRlci1ib3R0b206IDJweCBzb2xpZDsKfQp0YWJsZSB0ciB0ZCB7IAogIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CiAgdGV4dC1hbGlnbjogbGVmdDsgCiAgcGFkZGluZzogNXB4Owp9CgovKiBodHRwczovL2NvZGVwZW4uaW8vSGFycml4L3Blbi9wWlpaeGcgKi8KCmtiZCB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7CiAgYm9yZGVyOiAwOwogIG91dGxpbmU6IDA7CiAgY29sb3I6IGdyZXkyMDsKICBmb250LXNpemU6IDEwMCU7CiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZSwgc2Fucy1zZXJpZjsKICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgYm9yZGVyLWNvbG9yOiAjZTZlNmU2ICNiZWJlYmUgI2JlYmViZSAjZTZlNmU2OwogIGJvcmRlci1zdHlsZTogc29saWQ7CiAgYm9yZGVyLXdpZHRoOiAxcHggM3B4IDRweDsKICBwYWRkaW5nOiAwIDVweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDJkMmQyOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjEwLCAyMTAsIDIxMCwgMC45KTsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsKICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCmtiZC5tZW51IHsKICAtbW96LWJvcmRlci1yYWRpdXM6IDNweDsKICAtbW96LWJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCAycHggI2ZmZiBpbnNldDsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDNweDsKICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCAycHggI2ZmZiBpbnNldDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OwogIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIGJveC1zaGFkb3c6IDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCAycHggI2ZmZiBpbnNldDsKICBjb2xvcjogIzMzMzsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZSwgc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDEwMCU7CiAgbGluZS1oZWlnaHQ6IDEuNDsKICBtYXJnaW46IDAgMC4xZW07CiAgcGFkZGluZzogMC4xZW0gMC42ZW07CiAgdGV4dC1zaGFkb3c6IDAgMXB4IDAgI2ZmZjsKfQoKdSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIGJsYWNrOwp9CnNwYW4uZ3JleTcwIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjYWFhOwogIHBhZGRpbmc6IDRweDsKfQovKiBBbGVydHM6ICovCgouc2lkZS13YXJuaW5nLCAuc2lkZS1jYXV0aW9uLCAuc2lkZS1pbmZvLCAuc2lkZS1xdWVzdGlvbiwgLnNpZGUtZXJyb3IsIC5zaWRlLW5vdGUsIC5zaWRlLXRpcCwgLnNpZGUtaW1wb3J0YW50LCAuc2lkZS1oaW50ICB7CiAgY29sb3I6IHZhcigtLXVzZWQtY29sb3IpOwogIG1hcmdpbi1ib3R0b206IDMycHg7CiAgbWFyZ2luLXRvcDogMTZweDsKICBwYWRkaW5nOiAxNnB4OwogIHBhZGRpbmctbGVmdDogNDhweDsKICBib3JkZXItcmFkaXVzOiA1cHggMCAwIDVweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7ICAKfQouc2lkZS1lcnJvciwgLnNpZGUtY2F1dGlvbiB7CiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDdweCAjYWEzMzIyOwogIGJvcmRlci10b3A6IHNvbGlkIDFweCAjZmZmMGYwOyAKICBib3JkZXItcmlnaHQ6IHNvbGlkIDFweCAjZmZmMGYwOyAKICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggI2ZmZjBmMDsgCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjBmMDsKICAKfQoKLnNpZGUtaW1wb3J0YW50LCAuc2lkZS1oaW50IHsKICBib3JkZXItbGVmdDogc29saWQgN3B4ICNhYTMzYWE7CiAgYm9yZGVyLXRvcDogc29saWQgMXB4ICNmZmYwZmY7IAogIGJvcmRlci1yaWdodDogc29saWQgMXB4ICNmZmYwZmY7IAogIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjZmZmMGZmOyAKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmMGZmOwp9Cgouc2lkZS1ub3RlLCAuc2lkZS10aXAgewogIGJvcmRlci1sZWZ0OiBzb2xpZCA3cHggIzIyMzM5OTsKICBib3JkZXItdG9wOiBzb2xpZCAxcHggI2YwZjdmZjsgCiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAxcHggI2YwZjdmZjsgCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNmMGY3ZmY7IAogIGJhY2tncm91bmQtY29sb3I6ICNmMGY3ZmY7CiAgCn0KCi5zaWRlLWluZm8gewogIGJvcmRlci1sZWZ0OiBzb2xpZCA3cHggIzMzOTkyMjsKICBib3JkZXItdG9wOiBzb2xpZCAxcHggI2Y3ZmZmMDsgCiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAxcHggI2Y3ZmZmMDsgCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNmN2ZmZjA7IAogIGJhY2tncm91bmQtY29sb3I6ICNmN2ZmZjA7CiAgCn0KLnNpZGUtcXVlc3Rpb24gewogIGJvcmRlci1sZWZ0OiBzb2xpZCA3cHggIzk5OTkyMjsKICBib3JkZXItdG9wOiBzb2xpZCAxcHggI2ZmZmZmMDsgCiAgYm9yZGVyLXJpZ2h0OiBzb2xpZCAxcHggI2ZmZmZmMDsgCiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNmZmZmZjA7IAogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZjA7Cn0KLnNpZGUtd2FybmluZyB7CiAgYm9yZGVyLWxlZnQ6IHNvbGlkIDdweCAjZmY5OTMzOwogIGJvcmRlci10b3A6IHNvbGlkIDFweCAjZmZmN2YwOyAKICBib3JkZXItcmlnaHQ6IHNvbGlkIDFweCAjZmZmN2YwOyAKICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggI2ZmZjdmMDsgCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjdmMDsKfQoKLnNpZGUtaW5mbzo6YmVmb3JlLCAuc2lkZS13YXJuaW5nOjpiZWZvcmUsIC5zaWRlLWNhdXRpb246OmJlZm9yZSwgLnNpZGUtcXVlc3Rpb246OmJlZm9yZSwgLnNpZGUtZXJyb3I6OmJlZm9yZSwgLnNpZGUtbm90ZTo6YmVmb3JlLCAuc2lkZS10aXA6OmJlZm9yZSwgLnNpZGUtaW1wb3J0YW50OjpiZWZvcmUsIC5zaWRlLWhpbnQ6OmJlZm9yZSAgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgYm9yZGVyLXJhZGl1czogNTAlOwogIGRpc3BsYXk6IGZsZXg7CiAgZm9udC1mYW1pbHk6ICJVYnVudHUgTW9ubyIsIG1vbm9zcGFjZTsKICBmb250LXNpemU6IDE2cHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBoZWlnaHQ6IDI0cHg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgbGVmdDogMTJweDsKICBsaW5lLWhlaWdodDogMTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxNXB4OwogIHdpZHRoOiAyNHB4Owp9Cgouc2lkZS1ub3RlOjpiZWZvcmUsIC5zaWRlLXRpcDo6YmVmb3JlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjIzMzk5OwogIGNvbG9yOiAjZmZmOwogIGNvbnRlbnQ6ICJOIjsKICAKfQoKLnNpZGUtaGludDo6YmVmb3JlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTkyMjk5OwogIGNvbG9yOiAjZmZmOwogIGNvbnRlbnQ6ICIhIjsKICAKfQoKLnNpZGUtaW1wb3J0YW50OjpiZWZvcmUgewogIGJhY2tncm91bmQtY29sb3I6ICM5OTMzOTk7CiAgY29sb3I6ICNmZmY7CiAgY29udGVudDogIiEiOwp9Cgouc2lkZS10aXA6OmJlZm9yZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzIyMzM5OTsgCiAgY29udGVudDogIlwyNjFCIjsKICBmb250LXNpemU6IDExMCU7CiAgCn0KCi5zaWRlLWluZm86OmJlZm9yZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzMzOTkyMjsKICBjb2xvcjogI2ZmZjsKICBjb250ZW50OiAiaSI7CiAgCn0KLnNpZGUtZXJyb3I6OmJlZm9yZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjBmMDsKICBjb2xvcjogI2ZmZjsKICBjb250ZW50OiAiXDI2RDQiOwogIGZvbnQtc2l6ZTogMTIwJTsKfQouc2lkZS1jYXV0aW9uOjpiZWZvcmUgewogIGJhY2tncm91bmQtY29sb3I6ICNhYTMzMjI7CiAgY29sb3I6ICNmZmY7CiAgY29udGVudDogIiEiOwp9Cgouc2lkZS1xdWVzdGlvbjo6YmVmb3JlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTk5OTIyOwogIGNvbG9yOiAjZmZmOwogIGNvbnRlbnQ6ICI/IjsKICAKfQoKLnNpZGUtd2FybmluZzo6YmVmb3JlIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGQ2NjIyOwogIGNvbG9yOiAjZmZmOwogIGNvbnRlbnQ6ICIhIjsKICAKfQovKiBmaXggZm9yIEFzY2lpRG9jIHRhYmxlcyB3aXRoIHBhcmFncmFwaHMgKi8KcC50YWJsZWJsb2NrIHsgcGFkZGluZzogMHB4OyBtYXJnaW46IDBweDt9Cg==");
</style>


<style>
@import url('https://fonts.bunny.net/css?family=Andika&display=swap'); 
@import url('https://fonts.bunny.net/css?family=Ubuntu+Mono&display=swap');
body { font-family: Andika, sans-serif ; }
pre, code { font-family: "Ubuntu Mono", monospaced ; }
</style>
    
</head>
<body>
    



    <div class="document-header">
<h1 class="title">pargs 0.0.1</h1>
<h2 class="author">Detlef Groth, University of Potsdam, Germany</h2>
<h2 class="date">2025-12-13</h2>
    </div>

<h2>NAME</h2>

<p><strong>pargs</strong>  - Tcl package for simple command line parsing.</p>

<h2>SYNOPSIS</h2>

<pre class='code'><code>package require Tcl 8.6-
package require pargs
set pargs [Pargs new -doc DOC-VARr -argv ARGV-VAR -version VERSION-VAR -color true]
$pargs usage
$pargs help
$pargs version
$pargs parse type -short --long default
$pargs check-options
$pargs positional
$pargs error</code></pre>

<h2>DESCRIPTION</h2>

<p><strong>pargs</strong> - can be seen as a simple replacement of other command line parsers.
The user still has to declare an help page usually with raw text where the usage line
is written on top and thereafter, separated by an empty line follows the explanation
of options and arguments. Usally first should be a check of the correct number of arguments,
a check for the presence of options, after all supported options are checked,
the presence of unsupported options should be done and thereafter the parsing of positional command line options. See the following code.
for an example:</p>

<h2>EXAMPLE</h2>

<pre class='code'><code>set DOC {
   Usage: pargs.tcl (-h|--help|-V,--version)
             &lt;INFILE&gt; [OUTFILE]
             
   Options:
       -h,--help       display this help page
       -V,--version    display the application version
       -i,--int        some integer, default: 10
   Positional Arguments:
        INFILE          input file to be parsed
        [OUTFILE]       outfile [default: '-']
}


if {[info exists argv0] &amp;&amp; $argv0 eq [info script]} {
   set pargs [Pargs new -doc $DOC -argv $argv -version [package present pargs] -color true]
   if {[llength $argv] == 0} {
       $pargs usage
   }
   if {[$pargs parse bool -h --help false]} {
       $pargs help
   }
   if {[$pargs parse bool -V --version false]} {
       $pargs version; exit
   }
   
   set i [$pargs parse int -i --int 12]
   $pargs check-options
   set infile [$pargs positional]
   if {$infile eq &quot;-&quot;} {
       $pargs error &quot;Error: Missing &lt;INFILE&gt; argument!&quot;
       $pargs usage
   }
   set outfile [$pargs positional]
   puts &quot;Hi! -i is $i&quot;
   puts &quot;infile: $infile - outfile: $outfile&quot;
}</code></pre>

<h2>API</h2>

<p><img src="https://kroki.io/plantuml/svg/eNptkFFuwzAIht9zCqtPXpZcoFKlHmFXoA51rGITgd2pmnb3uZtrtdJ44_-AHzhqBskl0uAIVM0HiFfzNZga72YcecuBk46j2RsQgdsv-aPzwq7KmiUk_6zXGdcKKGh-lq8oWof92-KYWCo5MRNCav4JP-19obeWuxXdZW472a5yOgdfBF9qUYTFRvUPYUXaes8GomjzbcNJV5Y8ESc_LXiGQrkXsYa7FZBt5LCbdw-q5eQ4RkiLTRCxGxcFj92oHV3z7-GIaamv_gGF0mlY"></img></p>

<h3>class Pargs</h3>

<p><strong>Pargs new args</strong></p>

<blockquote>
<p>The constructor method. The following arguments are supported:</p>

<ul>
<li><em>-doc DOC</em> - the text string containing the documentation, usage line(s)
  first, remaining help page after an empty line</li>
<li><em>-argv ARGV</em> - the list of arguments, usually the global list <em>$argv</em></li>
<li><em>-version VERSION</em> - the version string for the application, [default: 0.0.0]</li>
<li><em>-color</em> - should error messages being displayed with ANSI red [default: true]
</li></ul>

<p>Returns: Pargs object</p>
</blockquote>

<p><em>cmd</em>  <strong>configure</strong> <em>args</em></p>

<blockquote>
<p>The configure method for the arguments shown in the constructor.
Should be an even number of arguments. If no arguments are given returns
the options array, keys and values.</p>
</blockquote>

<p><em>cmd</em>  <strong>error</strong> <em>msg</em></p>

<blockquote>
<p>Displays the given message in the terminal, in case option -color is
set to true, errors are shown in red foreground color.</p>
</blockquote>

<p><em>cmd</em>  <strong>subcommand</strong> <em>names</em></p>

<blockquote>
<p>Looks if the first argument is one of the subcommands given in names.
If this is the case returns the command name.</p>
</blockquote>

<p><em>cmd</em> <strong> parse</strong> <em>type ashort along default</em></p>

<blockquote>
<p>Parses the list of command line options for the presence of either
the given short or long option, if that option is absent the given default 
will be used instead.</p>

<p>Example:</p>

<pre class='code'><code>set h [$pargs parse bool -h --help false]
if {$h} { $pargs help }</code></pre>
</blockquote>

<p><em>cmd</em> <strong>check-options</strong></p>

<blockquote>
<p>After parsing all flags and options checks for the presence of
options which were not extracted yet., if the exists shows an 
error message and exits the application.</p>
</blockquote>

<p><em>cmd</em> <strong>positional</strong> <em>default &quot;-&quot;</em></p>

<blockquote>
<p>Parses the list of command line options for the presence of positional
arguments. Should be done only after all options and flags where parsed.</p>

<p>Example:</p>

<pre class='code'><code>set h [$pargs parse bool -h --help false]
if {$h} { $pargs help }
set infile [$pargs positional]
if {$infile eq &quot;-&quot;} {
 $pargs error &quot;Error: Infile not provided!&quot;
 $pargs usage
}</code></pre>
</blockquote>

<p><em>cmd</em> <strong>usage</strong></p>

<blockquote>
<p>Shows the usage line(s) and exits the application if options(-exit) was
set to true.</p>
</blockquote>

<p><em>cmd</em> <strong>help</strong></p>

<blockquote>
<p>Shows the help lines and exits the application if options(-exit) was
set to true.</p>
</blockquote>

<p><em>cmd</em> <strong>version</strong></p>

<blockquote>
<p>Returns the version string of the application.</p>

<p>Example:</p>

<pre class='code'><code>puts [$pargs version]</code></pre><h2>SEE ALSO</h2>
</blockquote>

<h2>CHANGES</h2>

<ul>
<li>2025-12-13: Version 0.0.1 initial setup
</li></ul>

<h2>AUTHOR</h2>

<p>The <strong>pargs</strong> package was written by Detlef Groth, University of Potdam, Germany.</p>

<h2>LICENSE AND COPYRIGHT</h2>

<p>pargs command line argument parser for Tcl/Tk version 0.0.1</p>

<p>Copyright (c) 2025  Detlef Groth, E-mail: &lt;dgroth(at)uni(minus)potsdam(dot)de&gt;</p>

<p>BSD License type:</p>

<p>Sun Microsystems, Inc. The following terms apply to all files a ssociated
with the software unless explicitly disclaimed in individual files.</p>

<p>The authors hereby grant permission to use, copy, modify, distribute, and
license this software and its documentation for any purpose, provided that
existing copyright notices are retained in all copies and that this notice
is included verbatim in any distributions. No written agreement, license,
or royalty fee is required for any of the authorized uses. Modifications to
this software may be copyrighted by their authors and need not follow the
licensing terms described here, provided that the new terms are clearly
indicated on the first page of each file where they apply.</p>

<p>In no event shall the authors or distributors be liable to any party for
direct, indirect, special, incidental, or consequential damages arising out
of the use of this software, its documentation, or any derivatives thereof,
even if the authors have been advised of the possibility of such damage.</p>

<p>The authors and distributors specifically disclaim any warranties,
including, but not limited to, the implied warranties of merchantability,
fitness for a particular purpose, and non-infringement. This software is
provided on an &quot;as is&quot; basis, and the authors and distributors have no
obligation to provide maintenance, support, updates, enhancements, or
modifications.</p>

<p>RESTRICTED RIGHTS: Use, duplication or disclosure by the government is
subject to the restrictions as set forth in subparagraph (c) (1) (ii) of
the Rights in Technical Data and Computer Software Clause as DFARS
252.227-7013 and FAR 52.227-19.</p>



</body>
</html>

